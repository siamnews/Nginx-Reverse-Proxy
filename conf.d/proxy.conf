server {
        listen   80; 

        root /home/public_html/cubantrip.com/; 
        index index.php index.html index.htm;

        server_name cubantrip.com, www.cubantrip.com; 

        location / {
        proxy_pass http://104.219.251.108:80;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
	
    }
	
	#  Ensure requests for pagespeed optimized resources go to the pagespeed
	#  handler and no extraneous headers get set.
	location ~ "\.pagespeed\.([a-z]\.)?[a-z]{2}\.[^.]{10}\.[^.]+" { add_header "" ""; }
	location ~ "^/ngx_pagespeed_static/" { }
	location ~ "^/ngx_pagespeed_beacon" { }
	
	# Filters
	pagespeed on;
 	pagespeed RewriteLevel PassThrough;
	
	 # css
	pagespeed EnableFilters inline_import_to_link;
	pagespeed EnableFilters outline_css;
	pagespeed CssOutlineMinBytes 1000;
	pagespeed EnableFilters combine_css,rewrite_css,rewrite_style_attributes,flatten_css_imports,prioritize_critical_css,sprite_images;
	

	pagespeed EnableFilters remove_comments;
	pagespeed EnableFilters collapse_whitespace;
	pagespeed EnableFilters rewrite_images;
	pagespeed EnableFilters rewrite_javascript;

	
	pagespeed EnableFilters inline_preview_images;

	pagespeed EnableFilters move_css_above_scripts;
	pagespeed EnableFilters insert_dns_prefetch;
	pagespeed EnableFilters combine_javascript;
	pagespeed EnableFilters defer_javascript;
	pagespeed EnableFilters inline_javascript;
	pagespeed EnableFilters outline_javascript;
	
}
